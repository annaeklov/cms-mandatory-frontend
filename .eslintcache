[{"/Users/annaeklov/Documents/Sites/frontend/src/index.js":"1","/Users/annaeklov/Documents/Sites/frontend/src/reportWebVitals.js":"2","/Users/annaeklov/Documents/Sites/frontend/src/App.js":"3","/Users/annaeklov/Documents/Sites/frontend/src/components/Movies.js":"4","/Users/annaeklov/Documents/Sites/frontend/src/components/Add.js":"5","/Users/annaeklov/Documents/Sites/frontend/src/components/Movie.js":"6","/Users/annaeklov/Documents/Sites/frontend/src/components/Form.js":"7","/Users/annaeklov/Documents/Sites/frontend/src/components/Edit.js":"8"},{"size":500,"mtime":1608634401865,"results":"9","hashOfConfig":"10"},{"size":362,"mtime":1608634401867,"results":"11","hashOfConfig":"10"},{"size":2366,"mtime":1610123781845,"results":"12","hashOfConfig":"10"},{"size":4045,"mtime":1610283793699,"results":"13","hashOfConfig":"10"},{"size":4402,"mtime":1610283793699,"results":"14","hashOfConfig":"10"},{"size":167,"mtime":1609147259651,"results":"15","hashOfConfig":"10"},{"size":4390,"mtime":1610353766277,"results":"16","hashOfConfig":"10"},{"size":4357,"mtime":1610353094067,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"6afi7j",{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"20"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28","usedDeprecatedRules":"20"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"20"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34","usedDeprecatedRules":"20"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"37","messages":"38","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/annaeklov/Documents/Sites/frontend/src/index.js",[],["39","40"],"/Users/annaeklov/Documents/Sites/frontend/src/reportWebVitals.js",[],"/Users/annaeklov/Documents/Sites/frontend/src/App.js",["41","42"],"import \"./App.css\";\nimport react, { useState, useEffect } from \"react\";\nimport { Route, BrowserRouter, Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Movies from \"./components/Movies\";\nimport Add from \"./components/Add\";\nimport Movie from \"./components/Movie\";\nimport Edit from \"./components/Edit\";\nimport styled from \"styled-components\";\n\nconst AppContainer = styled.div`\n  box-sizing: border-box;\n  background-color: #d0e2eb;\n  height: 97vh;\n  width: 100vw;\n  font-family: \"Roboto\", sans-serif;\n  main {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    margin: auto;\n    height: 100%;\n    min-height: 97vh;\n  }\n  .divHeader {\n    background-color: #a3c3d8;\n    width: 100%;\n    height: 22%;\n    position: relative;\n    align: center;\n    box-shadow: 0px 10px 10px -7px #80a4c0;\n    border-radius: 0px 0px 15px 15px;\n\n    button {\n      position: absolute;\n      bottom: 20px;\n      right: 15px;\n      width: 116px;\n      height: 49px;\n      box-shadow: 0px 10px 10px -7px #80a4c0;\n      background-color: #d0e2eb;\n      border-radius: 15px;\n      border: 2px solid #a3c3d8;\n      display: inline-block;\n      cursor: pointer;\n      color: #456289;\n      font-size: 16px;\n      padding: 6px 12px;\n      text-decoration: none;\n    }\n    button:hover {\n      background-color: #80a4c0;\n      color: #d0e2eb;\n    }\n\n    h1 {\n      text-align: center;\n      margin-top: 40px;\n      color: #1d1b28;\n      font-size: 50px;\n    }\n  }\n`;\n\nfunction App() {\n  const [token, setToken] = useState(\"\");\n  const API_jwt = \"http://localhost:8888/aewordpress/wp-json/jwt-auth/v1/token\";\n\n  function getToken() {\n    let login = {\n      username: \"annaadmin\",\n      password: \"annaadmin\",\n    };\n    axios.post(API_jwt, login).then((resp) => {\n      setToken(resp.data.token);\n    });\n    if (token) {\n      <Redirect to=\"/\" />;\n    }\n  }\n\n  useEffect(() => {\n    getToken();\n  }, []);\n\n  return (\n    <BrowserRouter>\n      <AppContainer>\n        <Route exact path=\"/\" component={() => <Movies token={token} />} />\n        <Route path=\"/add\" component={() => <Add token={token} />} />\n        <Route path=\"/movie/:id\" component={() => <Movie token={token} />} />\n        <Route path=\"/edit/:id\" component={() => <Edit token={token} />} />\n      </AppContainer>{\" \"}\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","/Users/annaeklov/Documents/Sites/frontend/src/components/Movies.js",["43","44","45","46"],"import react, { useState, useEffect } from \"react\";\nimport { useHistory, Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\nimport styled from \"styled-components\";\n\nfunction Movies({ token }) {\n  const [movies, setMovies] = useState();\n  let history = useHistory();\n\n  useEffect(() => {\n    getMovies();\n  }, []);\n\n  function getMovies() {\n    axios\n      .get(\"http://localhost:8888/aewordpress/wp-json/wp/v2/movies\")\n      .then((response) => {\n        setMovies(response.data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  function deleteMovie(movieId) {\n    axios\n      .delete(\n        `http://localhost:8888/aewordpress/wp-json/wp/v2/movies/${movieId}`,\n        {\n          headers: { Authorization: \"Bearer\" + token },\n        }\n      )\n      .then((response) => {\n        console.log(response);\n        if (response.status === 200) {\n          getMovies();\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  let mappedMovies;\n\n  if (movies) {\n    mappedMovies = movies.map((movie) => {\n      return (\n        <OneMovieDiv key={movie.id}>\n          <div>\n            <p>\n              <strong>Titel</strong> <br />\n              {movie.title.rendered}\n            </p>\n          </div>\n          {movie.acf.cover ? (\n            <img src={movie.acf.cover} />\n          ) : (\n            <img\n              src={\n                \"https://pbs.twimg.com/profile_images/836629578554748928/DHbaSYYv_400x400.jpg\"\n              }\n            />\n          )}\n\n          <div>\n            <p>\n              <strong>Recension</strong> <br />\n              {movie.acf.recension}\n            </p>\n          </div>\n          <div>\n            <p>\n              <strong>Rating</strong> <br />\n              {movie.acf.rating}\n              /5\n            </p>\n          </div>\n\n          <div>\n            <ul>\n              <strong>Genre</strong>\n              {movie.acf.genrecustom.length > 0 &&\n                movie.acf.genrecustom.map((x) => {\n                  return <li key={x.term_id}> {x.name}</li>;\n                })}\n            </ul>\n          </div>\n          <div>\n            <button\n              onClick={() => {\n                deleteMovie(movie.id);\n              }}\n            >\n              Ta bort\n            </button>\n\n            <button\n              onClick={() => {\n                redirectEdit(movie.id);\n              }}\n            >\n              Ändra\n            </button>\n          </div>\n        </OneMovieDiv>\n      );\n    });\n  } else {\n    mappedMovies = <p>No movies</p>;\n  }\n\n  function redirectAdd() {\n    history.push(\"/add\");\n  }\n\n  function redirectEdit(movieId) {\n    history.push(`/edit/${movieId}`);\n  }\n\n  return (\n    <main className=\"MoviesDiv\">\n      <div className=\"divHeader\">\n        <h1>Alla filmer</h1>\n        <button onClick={redirectAdd}>Lägg till film</button>\n      </div>\n      <MoviesContent> {mappedMovies} </MoviesContent>\n    </main>\n  );\n}\n\nexport default Movies;\n\nconst MoviesContent = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  overflow-y: auto;\n  margin: 10px 0 0 0;\n  box-sizing: border-box;\n`;\n\nconst OneMovieDiv = styled.div`\n  width: 95%;\n  height: 25%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  border-bottom: 2px solid #a3c3d8;\n\n  div {\n    margin: 5px;\n    width: 15%;\n  }\n  img {\n    width: 150px;\n    height: 130px;\n    border-radius: 5px;\n    margin-right: 10px;\n    object-fit: contain;\n  }\n\n  button {\n    width: 65px;\n    height: 22px;\n    box-shadow: 0px 10px 10px -7px #80a4c0;\n    background-color: #d0e2eb;\n    border-radius: 15px;\n    border: 2px solid #a3c3d8;\n    display: inline-block;\n    cursor: pointer;\n    color: #456289;\n    font-size: 12px;\n    padding: 1px 5px;\n    text-decoration: none;\n    margin: 10px;\n  }\n  button:hover {\n    background-color: #80a4c0;\n    color: #d0e2eb;\n  }\n  ul {\n    padding: 0;\n    list-style: none;\n  }\n  p {\n    margin: 0;\n  }\n`;\n","/Users/annaeklov/Documents/Sites/frontend/src/components/Add.js",["47","48","49"],"import react, { useState, useEffect } from \"react\";\nimport { useHistory, Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Form from \"./Form\";\nimport styled from \"styled-components\";\n\nfunction Add({ token }) {\n  const [genres, setGenres] = useState([]);\n  const [checkedGenres, setCheckedGenres] = useState([]);\n  const [isAdded, setIsAdded] = useState(false);\n  const [errorMsg, setErrorMsg] = useState(\"\");\n  const [newMovie, setNewMovie] = useState({\n    title: \"\",\n    status: \"publish\",\n    recension: \"\",\n    rating: \"\",\n  });\n\n  let history = useHistory();\n\n  useEffect(() => {\n    getGenresApi();\n  }, []);\n\n  function getGenresApi() {\n    axios\n      .get(\"http://localhost:8888/aewordpress/wp-json/wp/v2/genres\")\n      .then((response) => {\n        setGenres(response.data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  function postNewMovie(token) {\n    let item = {\n      title: newMovie.title,\n      status: \"publish\",\n      genres: checkedGenres,\n      fields: {\n        genrecustom: checkedGenres,\n        recension: newMovie.recension,\n        rating: newMovie.rating,\n      },\n    };\n\n    console.log(\"item i POST\", item);\n\n    axios\n      .post(\"http://localhost:8888/aewordpress/wp-json/wp/v2/movies/\", item, {\n        headers: { Authorization: \"Bearer\" + token },\n      })\n      .then((resp) => {\n        console.log(resp.data);\n        if (resp.status === 201) {\n          setIsAdded(true);\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  function onChangeGenre(e) {\n    const isChecked = e.target.checked;\n    if (isChecked) {\n      let idInt = parseInt(e.target.id);\n      setCheckedGenres([...checkedGenres, idInt]);\n    } else if (!isChecked) {\n      let filteredGenre = checkedGenres.filter((genre) => {\n        return genre !== parseInt(e.target.id);\n      });\n      setCheckedGenres(filteredGenre);\n      console.log(checkedGenres);\n    }\n  }\n\n  function handleChange(e) {\n    const { name, value } = e.target;\n    setNewMovie({ ...newMovie, [name]: value });\n  }\n\n  function onClickAddMovie(e) {\n    e.preventDefault();\n    console.log(checkedGenres.length);\n    if (checkedGenres.length > 0) {\n      console.log(\"tom\");\n      if (newMovie.title.trim() === \"\" || newMovie.recension.trim() === \"\") {\n        return setErrorMsg(\"emptyInput\");\n      }\n\n      postNewMovie(token);\n    } else {\n      setErrorMsg(\"checkbox\");\n    }\n  }\n\n  function redirect() {\n    history.push(\"/\");\n  }\n\n  return (\n    <main className=\"AddDiv\">\n      {isAdded && <Redirect to=\"/\" />}\n\n      <div className=\"divHeader\">\n        <h1>Lägg till film</h1>\n        <button onClick={redirect}>Se alla filmer</button>\n      </div>\n      <Form\n        genres={genres}\n        newMovie={newMovie}\n        handleSubmit={onClickAddMovie}\n        submitButtonText=\"Lägg till\"\n        handleChange={handleChange}\n        onChangeGenre={onChangeGenre}\n        errorMsg={errorMsg}\n      />\n    </main>\n  );\n}\n\nexport default Add;\n\n\n/*   <select onChange={onChangeGenre}>\n          <option value=\"Välj genre\" disabled selected>\n            Välj genre\n          </option>\n          {genres.map((genre) => {\n            return (\n              <option key={genre.id} value={genre.title.rendered}>\n                {genre.title.rendered}\n              </option>\n            );\n          })}\n        </select> */\n\n{\n  /* <form>\n        <label name=\"title\">Filmtitel</label>\n        <input\n          type=\"text\"\n          name=\"title\"\n          onChange={handleChange}\n          value={newMovie.title}\n        />\n        <label name=\"recension\">Recension</label>\n        <textarea\n          name=\"recension\"\n          onChange={handleChange}\n          value={newMovie.recension}\n        />\n        <label name=\"rating\">Rating</label>\n        <input\n          type=\"number\"\n          name=\"rating\"\n          onChange={handleChange}\n          value={newMovie.rating}\n        />\n        <br />\n        <label name=\"genre\">\n          <strong>Genre</strong>\n          {genres.map((genre) => {\n            return (\n              <label key={genre.id}>\n                {genre.name}\n                <input\n                  type=\"checkbox\"\n                  value={genre.name}\n                  onChange={onChangeGenre}\n                  name=\"genre\"\n                  id={genre.id}\n                />\n              </label>\n            );\n          })}\n        </label>\n        <input type=\"submit\" value=\"Färdig\" onClick={onClickSubmit} />\n      </form> */\n}\n","/Users/annaeklov/Documents/Sites/frontend/src/components/Movie.js",["50","51","52","53"],"import react, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nfunction Movie() {\n  return <div className=\"MovieDiv\"></div>;\n}\n\nexport default Movie;\n","/Users/annaeklov/Documents/Sites/frontend/src/components/Form.js",["54","55","56","57"],"/Users/annaeklov/Documents/Sites/frontend/src/components/Edit.js",["58","59"],{"ruleId":"60","replacedBy":"61"},{"ruleId":"62","replacedBy":"63"},{"ruleId":"64","severity":1,"message":"65","line":2,"column":8,"nodeType":"66","messageId":"67","endLine":2,"endColumn":13},{"ruleId":"68","severity":1,"message":"69","line":85,"column":6,"nodeType":"70","endLine":85,"endColumn":8,"suggestions":"71"},{"ruleId":"64","severity":1,"message":"65","line":1,"column":8,"nodeType":"66","messageId":"67","endLine":1,"endColumn":13},{"ruleId":"64","severity":1,"message":"72","line":2,"column":22,"nodeType":"66","messageId":"67","endLine":2,"endColumn":30},{"ruleId":"73","severity":1,"message":"74","line":57,"column":13,"nodeType":"75","endLine":57,"endColumn":42},{"ruleId":"73","severity":1,"message":"74","line":59,"column":13,"nodeType":"75","endLine":63,"endColumn":15},{"ruleId":"64","severity":1,"message":"65","line":1,"column":8,"nodeType":"66","messageId":"67","endLine":1,"endColumn":13},{"ruleId":"64","severity":1,"message":"76","line":5,"column":8,"nodeType":"66","messageId":"67","endLine":5,"endColumn":14},{"ruleId":"77","severity":1,"message":"78","line":140,"column":1,"nodeType":"79","messageId":"80","endLine":182,"endColumn":2},{"ruleId":"64","severity":1,"message":"65","line":1,"column":8,"nodeType":"66","messageId":"67","endLine":1,"endColumn":13},{"ruleId":"64","severity":1,"message":"81","line":1,"column":17,"nodeType":"66","messageId":"67","endLine":1,"endColumn":25},{"ruleId":"64","severity":1,"message":"82","line":1,"column":27,"nodeType":"66","messageId":"67","endLine":1,"endColumn":36},{"ruleId":"64","severity":1,"message":"83","line":2,"column":8,"nodeType":"66","messageId":"67","endLine":2,"endColumn":13},{"ruleId":"64","severity":1,"message":"65","line":1,"column":8,"nodeType":"66","messageId":"67","endLine":1,"endColumn":13},{"ruleId":"64","severity":1,"message":"81","line":1,"column":17,"nodeType":"66","messageId":"67","endLine":1,"endColumn":25},{"ruleId":"64","severity":1,"message":"82","line":1,"column":27,"nodeType":"66","messageId":"67","endLine":1,"endColumn":36},{"ruleId":"64","severity":1,"message":"83","line":2,"column":8,"nodeType":"66","messageId":"67","endLine":2,"endColumn":13},{"ruleId":"64","severity":1,"message":"65","line":1,"column":8,"nodeType":"66","messageId":"67","endLine":1,"endColumn":13},{"ruleId":"68","severity":1,"message":"84","line":20,"column":6,"nodeType":"70","endLine":20,"endColumn":8,"suggestions":"85"},"no-native-reassign",["86"],"no-negated-in-lhs",["87"],"no-unused-vars","'react' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getToken'. Either include it or remove the dependency array.","ArrayExpression",["88"],"'Redirect' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'styled' is defined but never used.","no-lone-blocks","Block is redundant.","BlockStatement","redundantBlock","'useState' is defined but never used.","'useEffect' is defined but never used.","'axios' is defined but never used.","React Hook useEffect has a missing dependency: 'getMovieApi'. Either include it or remove the dependency array.",["89"],"no-global-assign","no-unsafe-negation",{"desc":"90","fix":"91"},{"desc":"92","fix":"93"},"Update the dependencies array to be: [getToken]",{"range":"94","text":"95"},"Update the dependencies array to be: [getMovieApi]",{"range":"96","text":"97"},[1932,1934],"[getToken]",[613,615],"[getMovieApi]"]